from pathlib import Path
from split_novel import to_chinese_chapter, sanitize_filename

PROTAGONIST_NEW = "林序"

# 按照之前的大纲整理的 100 个章节标题
CHAPTERS = [
    (1, "雨棚微光"),
    (2, "一毫星尘"),
    (3, "旧影投灯"),
    (4, "潜痕"),
    (5, "双螺书页"),
    (6, "吞噬车站"),
    (7, "霉豆腐轨迹"),
    (8, "风铃裂缝"),
    (9, "蜉蝣试算"),
    (10, "井底天线"),
    # —— Ⅱ 蜂巢·裂痕 ——
    (11, "断剑门楣"),
    (12, "量子湿墙"),
    (13, "裂缝简报"),
    (14, "真火墨影"),
    (15, "脉冲乌杏"),
    (16, "枯灯夺影"),
    (17, "失稳弧鸣"),
    (18, "泛白陷阱"),
    (19, "赝镜囚城"),
    (20, "蜂巢冥约"),
    # —— Ⅲ 星门·回声 ——
    (21, "碎曜阶梯"),
    (22, "逆行水镜"),
    (23, "月骨咒痕"),
    (24, "空洞虹湾"),
    (25, "铭砂封锁"),
    (26, "盲目指针"),
    (27, "漩涡花瓶"),
    (28, "羽片脊梁"),
    (29, "镂空神厕"),
    (30, "映律回声"),
    # —— Ⅳ 冰川·谒神 ——
    (31, "雪焰纸鸢"),
    (32, "裂谷风箫"),
    (33, "冰尘浮轴"),
    (34, "慧光裂帛"),
    (35, "雉尾梦罅"),
    (36, "渊门叠影"),
    (37, "北极皈归"),
    (38, "晨星秤盘"),
    (39, "冰川神像"),
    (40, "再制序途"),
    # —— Ⅴ 逻辑·流徙 ——
    (41, "故障句点"),
    (42, "算法坟场"),
    (43, "声纹片羽"),
    (44, "燃灰阶层"),
    (45, "逻辑残瓣"),
    (46, "缠续辨证"),
    (47, "虹纹孤岛"),
    (48, "反证群星"),
    (49, "临界平衡"),
    (50, "漆夜归航"),
    # —— Ⅵ 伽马·倾斜 ——
    (51, "伽马裂讯"),
    (52, "彗存云屏"),
    (53, "棱镜回廊"),
    (54, "衍生疲惫"),
    (55, "闪烁跌落"),
    (56, "间隙木偶"),
    (57, "缺省悖论"),
    (58, "局部馈答"),
    (59, "驭光沉睡"),
    (60, "血影剪刻"),
    # —— Ⅶ 零界·脉搏 ——
    (61, "零界冲绳"),
    (62, "鲸鞘沉钟"),
    (63, "静默迭代"),
    (64, "量域轮廓"),
    (65, "子午线噪"),
    (66, "喑色鼓点"),
    (67, "櫞丝肋骨"),
    (68, "湍流脊片"),
    (69, "歧路空室"),
    (70, "脉冲噬影"),
    # —— Ⅷ 熵潮·折叠 ——
    (71, "熵潮溃坝"),
    (72, "折叠纪事"),
    (73, "漏刻虫洞"),
    (74, "炼狱仓库"),
    (75, "舻尾错位"),
    (76, "临界滤波"),
    (77, "踪迹声带"),
    (78, "沉砂记忆"),
    (79, "覆写旗标"),
    (80, "终焉矩阵"),
    # —— Ⅸ 双生·悖旅 ——
    (81, "双生耦环"),
    (82, "悖旅书简"),
    (83, "交笼锋线"),
    (84, "静缈封灯"),
    (85, "逆位原典"),
    (86, "軫域辉刻"),
    (87, "逆燃拱桥"),
    (88, "朝龄噬界"),
    (89, "冥晦层析"),
    (90, "幻籁旅图"),
    # —— Ⅹ 无垠·永昼 ——
    (91, "无垠曦帆"),
    (92, "昼烬流云"),
    (93, "恒沙裂裳"),
    (94, "量子纬叙"),
    (95, "淮潮凝滞"),
    (96, "弥光鼓楼"),
    (97, "深渊中轴"),
    (98, "终域映像"),
    (99, "烛光祭典"),
    (100, "星寂乐章"),
]


def create_new_novel():
    base_dir = Path(__file__).resolve().parent
    out_dir = base_dir / "new_novel"
    out_dir.mkdir(parents=True, exist_ok=True)

    for num, title in CHAPTERS:
        header = f"# {to_chinese_chapter(num)} {title}\n\n"
        placeholder = (
            f"> 提示：本章需约 3000 字正文，主角已改名为 {PROTAGONIST_NEW}，请据此补充。\n\n"
            "（正文待续……）\n"
        )
        file_name = f"{num:02d}_{sanitize_filename(title)}.md"
        with (out_dir / file_name).open("w", encoding="utf-8") as f:
            f.write(header)
            f.write(placeholder)

    print(f"已在 {out_dir} 生成 {len(CHAPTERS)} 个 markdown 文件。")


if __name__ == "__main__":
    create_new_novel() 